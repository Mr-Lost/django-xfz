function Banners(){}Banners.prototype.Init=function(){var r=this;xfzajax.get({url:"/backend/banner_list/",success:function(n){if(200===n.code)for(var e=n.data,a=0;a<e.length;a++){var t=e[a];r.createBannerItem(t)}}})},Banners.prototype.createBannerItem=function(n){var e=this,a=$(".banner-list-group"),t=template("banner-item",{banner:n}),r=null;r=n?(a.append(t),a.find(".banner-item:last")):(a.prepend(t),a.find(".banner-item:first")),e.bannerAddImageEvent(r),e.bannerRemoveEvent(r),e.bannerSaveEvent(r)},Banners.prototype.listenAddBannerEvent=function(){var n=this,e=$("#add-btn"),a=$(".banner-list-group");e.click(function(){6<=a.children().length?window.messageBox.showInfo("最多只能添加6张轮播图！"):n.createBannerItem()})},Banners.prototype.bannerAddImageEvent=function(n){var a=n.find(".thumbnail"),e=n.find(".image-input");a.click(function(){e.click()}),e.change(function(){var n=this.files[0],e=new FormData;e.append("file",n),e.append("folder","banner"),xfzajax.post({url:"/backend/upload_file/",data:e,processData:!1,contentType:!1,success:function(n){if(200===n.code){var e=n.data.url;a.attr("src",e)}}})})},Banners.prototype.bannerRemoveEvent=function(e){e.find("#remove-btn").click(function(){var n=e.attr("data-banner-id");n?xfzalert.alertConfirm({title:"确认删除该轮播图吗？",confirmCallback:function(){xfzajax.post({url:"/backend/banner_delete/",data:{banner_id:n},success:function(n){200===n.code&&(e.remove(),window.messageBox.showSuccess("轮播图删除成功！"))}})}}):e.remove()})},Banners.prototype.bannerSaveEvent=function(n){var e=n.find("#save-btn"),t=n.find(".priority"),r=n.find(".thumbnail"),i=n.find("input[name='priority']"),o=n.find("input[name='link_to']"),c=n.attr("data-banner-id"),s="";s=c?"/backend/banner_edit/":"/backend/banner_add/",e.click(function(){var n=r.attr("src"),e=i.val(),a=o.val();xfzajax.post({url:s,data:{image_url:n,priority:e,link_to:a,pk:c},success:function(n){200===n.code&&(c?window.messageBox.showSuccess("轮播图内容修改成功！"):(c=n.data.banner_id,window.messageBox.showSuccess("轮播图添加成功！")),t.text("优先级："+e))}})})},Banners.prototype.run=function(){this.Init(),this.listenAddBannerEvent()},$(function(){(new Banners).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhY2tlbmQvYmFubmVycy5qcyJdLCJuYW1lcyI6WyJCYW5uZXJzIiwicHJvdG90eXBlIiwiSW5pdCIsInNlbGYiLCJ0aGlzIiwieGZ6YWpheCIsImdldCIsInVybCIsInN1Y2Nlc3MiLCJyZXN1bHQiLCJiYW5uZXJzIiwiaSIsImxlbmd0aCIsImJhbm5lciIsImNyZWF0ZUJhbm5lckl0ZW0iLCJiYW5uZXJMaXN0R3JvdXAiLCIkIiwidHBsIiwidGVtcGxhdGUiLCJiYW5uZXJJdGVtIiwiYXBwZW5kIiwiZmluZCIsInByZXBlbmQiLCJiYW5uZXJBZGRJbWFnZUV2ZW50IiwiYmFubmVyUmVtb3ZlRXZlbnQiLCJiYW5uZXJTYXZlRXZlbnQiLCJsaXN0ZW5BZGRCYW5uZXJFdmVudCIsImFkZEJ0biIsImNsaWNrIiwiY2hpbGRyZW4iLCJ3aW5kb3ciLCJtZXNzYWdlQm94Iiwic2hvd0luZm8iLCJpbWFnZSIsImltYWdlSW5wdXQiLCJjaGFuZ2UiLCJmaWxlIiwiZmlsZXMiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwicG9zdCIsImRhdGEiLCJwcm9jZXNzRGF0YSIsImNvbnRlbnRUeXBlIiwiYXR0ciIsImJhbm5lcl9pZCIsInhmemFsZXJ0IiwiYWxlcnRDb25maXJtIiwidGl0bGUiLCJjb25maXJtQ2FsbGJhY2siLCJyZW1vdmUiLCJzaG93U3VjY2VzcyIsInNhdmVCdG4iLCJwcmlvcml0eVRleHQiLCJwcmlvcml0eVRhZyIsImxpbmtUbyIsImJhbm5lcklkIiwiaW1hZ2VfdXJsIiwicHJpb3JpdHkiLCJ2YWwiLCJsaW5rX3RvIiwicGsiLCJ0ZXh0IiwicnVuIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxXQUlUQSxRQUFRQyxVQUFVQyxLQUFPLFdBQ3JCLElBQUlDLEVBQU9DLEtBQ1hDLFFBQVFDLElBQUksQ0FDUkMsSUFBTyx3QkFDUEMsUUFBVyxTQUFVQyxHQUNqQixHQUFzQixNQUFuQkEsRUFBYSxLQUVaLElBREEsSUFBSUMsRUFBVUQsRUFBYSxLQUNuQkUs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S0FDTkYsT0FETUUsS0FFTnNCLHdCQUdUVixFQUFFLFlBQ2dCLElBQUloQixTQUNWK0QiLCJmaWxlIjoiYmFja2VuZC9iYW5uZXJzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIEJhbm5lcnMoKSB7XHJcblxyXG59XHJcblxyXG5CYW5uZXJzLnByb3RvdHlwZS5Jbml0ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHhmemFqYXguZ2V0KHtcclxuICAgICAgICAndXJsJzogJy9iYWNrZW5kL2Jhbm5lcl9saXN0LycsXHJcbiAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgdmFyIGJhbm5lcnMgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgICAgICAgICAgICAgIGZvcih2YXIgaT0wO2k8YmFubmVycy5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgYmFubmVyID0gYmFubmVyc1tpXTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLmNyZWF0ZUJhbm5lckl0ZW0oYmFubmVyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn07XHJcblxyXG5CYW5uZXJzLnByb3RvdHlwZS5jcmVhdGVCYW5uZXJJdGVtID0gZnVuY3Rpb24oYmFubmVyKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBiYW5uZXJMaXN0R3JvdXAgPSAkKCcuYmFubmVyLWxpc3QtZ3JvdXAnKTtcclxuICAgIHZhciB0cGwgPSB0ZW1wbGF0ZShcImJhbm5lci1pdGVtXCIsIHsnYmFubmVyJzogYmFubmVyfSk7XHJcbiAgICB2YXIgYmFubmVySXRlbSA9IG51bGw7XHJcbiAgICBpZihiYW5uZXIpe1xyXG4gICAgICAgIGJhbm5lckxpc3RHcm91cC5hcHBlbmQodHBsKTtcclxuICAgICAgICBiYW5uZXJJdGVtID0gYmFubmVyTGlzdEdyb3VwLmZpbmQoJy5iYW5uZXItaXRlbTpsYXN0Jyk7XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIGJhbm5lckxpc3RHcm91cC5wcmVwZW5kKHRwbCk7XHJcbiAgICAgICAgYmFubmVySXRlbSA9IGJhbm5lckxpc3RHcm91cC5maW5kKCcuYmFubmVyLWl0ZW06Zmlyc3QnKTtcclxuICAgIH1cclxuICAgIHNlbGYuYmFubmVyQWRkSW1hZ2VFdmVudChiYW5uZXJJdGVtKTtcclxuICAgIHNlbGYuYmFubmVyUmVtb3ZlRXZlbnQoYmFubmVySXRlbSk7XHJcbiAgICBzZWxmLmJhbm5lclNhdmVFdmVudChiYW5uZXJJdGVtKTtcclxufTtcclxuXHJcbkJhbm5lcnMucHJvdG90eXBlLmxpc3RlbkFkZEJhbm5lckV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBhZGRCdG4gPSAkKCcjYWRkLWJ0bicpO1xyXG4gICAgdmFyIGJhbm5lckxpc3RHcm91cCA9ICQoJy5iYW5uZXItbGlzdC1ncm91cCcpO1xyXG4gICAgYWRkQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgYmFubmVyQ291bnQgPSBiYW5uZXJMaXN0R3JvdXAuY2hpbGRyZW4oKS5sZW5ndGg7XHJcbiAgICAgICAgaWYoYmFubmVyQ291bnQgPj0gNil7XHJcbiAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dJbmZvKCfmnIDlpJrlj6rog73mt7vliqA25byg6L2u5pKt5Zu+77yBJyk7XHJcbiAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgIH1cclxuICAgICAgICBzZWxmLmNyZWF0ZUJhbm5lckl0ZW0oKTtcclxuICAgIH0pXHJcbn07XHJcblxyXG5CYW5uZXJzLnByb3RvdHlwZS5iYW5uZXJBZGRJbWFnZUV2ZW50ID0gZnVuY3Rpb24oYmFubmVySXRlbSl7XHJcbiAgICB2YXIgaW1hZ2UgPSBiYW5uZXJJdGVtLmZpbmQoJy50aHVtYm5haWwnKTtcclxuICAgIHZhciBpbWFnZUlucHV0ID0gYmFubmVySXRlbS5maW5kKCcuaW1hZ2UtaW5wdXQnKTtcclxuICAgIGltYWdlLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpbWFnZUlucHV0LmNsaWNrKCk7XHJcbiAgICB9KTtcclxuICAgIGltYWdlSW5wdXQuY2hhbmdlKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgZmlsZSA9IHRoaXMuZmlsZXNbMF07XHJcbiAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgZmlsZSk7XHJcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdmb2xkZXInLCAnYmFubmVyJyk7XHJcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6ICcvYmFja2VuZC91cGxvYWRfZmlsZS8nLFxyXG4gICAgICAgICAgICAnZGF0YSc6IGZvcm1EYXRhLFxyXG4gICAgICAgICAgICAncHJvY2Vzc0RhdGEnOiBmYWxzZSxcclxuICAgICAgICAgICAgJ2NvbnRlbnRUeXBlJzogZmFsc2UsXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVybCA9IHJlc3VsdFsnZGF0YSddWyd1cmwnXTtcclxuICAgICAgICAgICAgICAgICAgICBpbWFnZS5hdHRyKCdzcmMnLCB1cmwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn07XHJcblxyXG5CYW5uZXJzLnByb3RvdHlwZS5iYW5uZXJSZW1vdmVFdmVudCA9IGZ1bmN0aW9uKGJhbm5lckl0ZW0pe1xyXG4gIHZhciByZW1vdmVCdG4gPSBiYW5uZXJJdGVtLmZpbmQoJyNyZW1vdmUtYnRuJyk7XHJcbiAgcmVtb3ZlQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgdmFyIGJhbm5lcl9pZCA9IGJhbm5lckl0ZW0uYXR0cignZGF0YS1iYW5uZXItaWQnKTsgIC8vIOeCueWHu+WIoOmZpOaMiemSruWQjuiOt+WPlu+8jOmBv+WFjeWImuWIm+W7uuWlveeahGJhbm5lckl0ZW3pqazkuIrliKDpmaTml7bkuI3lvLnlh7rmj5DnpLrmoYZcclxuICAgICAgaWYoYmFubmVyX2lkKXtcclxuICAgICAgICAgIHhmemFsZXJ0LmFsZXJ0Q29uZmlybSh7XHJcbiAgICAgICAgICAgICAgJ3RpdGxlJzogJ+ehruiupOWIoOmZpOivpei9ruaSreWbvuWQl++8nycsXHJcbiAgICAgICAgICAgICAgJ2NvbmZpcm1DYWxsYmFjayc6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgICAgICAgICAgICd1cmwnOiAnL2JhY2tlbmQvYmFubmVyX2RlbGV0ZS8nLFxyXG4gICAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiB7J2Jhbm5lcl9pZCc6IGJhbm5lcl9pZH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFubmVySXRlbS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd1N1Y2Nlc3MoJ+i9ruaSreWbvuWIoOmZpOaIkOWKn++8gScpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9KVxyXG4gICAgICB9XHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgICBiYW5uZXJJdGVtLnJlbW92ZSgpO1xyXG4gICAgICB9XHJcbiAgfSlcclxufTtcclxuXHJcbi8vIOi9ruaSreWbvueahOaWsOWinuS/neWtmOWSjOeOsOacieeahOS/ruaUueS/neWtmFxyXG5CYW5uZXJzLnByb3RvdHlwZS5iYW5uZXJTYXZlRXZlbnQgPSBmdW5jdGlvbihiYW5uZXJJdGVtKXsgICBcclxuICAgIHZhciBzYXZlQnRuID0gYmFubmVySXRlbS5maW5kKFwiI3NhdmUtYnRuXCIpO1xyXG4gICAgdmFyIHByaW9yaXR5VGV4dCA9IGJhbm5lckl0ZW0uZmluZCgnLnByaW9yaXR5Jyk7XHJcbiAgICB2YXIgaW1hZ2UgPSBiYW5uZXJJdGVtLmZpbmQoJy50aHVtYm5haWwnKTtcclxuICAgIHZhciBwcmlvcml0eVRhZyA9IGJhbm5lckl0ZW0uZmluZChcImlucHV0W25hbWU9J3ByaW9yaXR5J11cIik7XHJcbiAgICB2YXIgbGlua1RvID0gYmFubmVySXRlbS5maW5kKFwiaW5wdXRbbmFtZT0nbGlua190byddXCIpO1xyXG4gICAgdmFyIGJhbm5lcklkID0gYmFubmVySXRlbS5hdHRyKCdkYXRhLWJhbm5lci1pZCcpO1xyXG4gICAgdmFyIHVybCA9ICcnO1xyXG4gICAgaWYoYmFubmVySWQpeyB1cmwgPSAnL2JhY2tlbmQvYmFubmVyX2VkaXQvJyB9XHJcbiAgICBlbHNleyB1cmwgPSAnL2JhY2tlbmQvYmFubmVyX2FkZC8nIH1cclxuICAgIHNhdmVCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBpbWFnZV91cmwgPSBpbWFnZS5hdHRyKCdzcmMnKTtcclxuICAgICAgICB2YXIgcHJpb3JpdHkgPSBwcmlvcml0eVRhZy52YWwoKTtcclxuICAgICAgICB2YXIgbGlua190byA9IGxpbmtUby52YWwoKTtcclxuICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAndXJsJzogdXJsLFxyXG4gICAgICAgICAgICAnZGF0YSc6IHtcclxuICAgICAgICAgICAgICAgICdpbWFnZV91cmwnOiBpbWFnZV91cmwsXHJcbiAgICAgICAgICAgICAgICAncHJpb3JpdHknOiBwcmlvcml0eSxcclxuICAgICAgICAgICAgICAgICdsaW5rX3RvJzogbGlua190byxcclxuICAgICAgICAgICAgICAgICdwayc6IGJhbm5lcklkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYmFubmVySWQpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93U3VjY2Vzcygn6L2u5pKt5Zu+5YaF5a655L+u5pS55oiQ5Yqf77yBJylcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFubmVySWQgPSByZXN1bHRbJ2RhdGEnXVsnYmFubmVyX2lkJ107ICAgLy8g5rOo5oSPYmFubmVySWTlj5jph4/nmoTkvZznlKjln59cclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm1lc3NhZ2VCb3guc2hvd1N1Y2Nlc3MoJ+i9ruaSreWbvua3u+WKoOaIkOWKn++8gScpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5VGV4dC50ZXh0KCfkvJjlhYjnuqfvvJonICsgcHJpb3JpdHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn07XHJcblxyXG5CYW5uZXJzLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLkluaXQoKTtcclxuICAgIHNlbGYubGlzdGVuQWRkQmFubmVyRXZlbnQoKTtcclxufTtcclxuXHJcbiQoZnVuY3Rpb24oKXtcclxuICAgIHZhciBiYW5uZXJzID0gbmV3IEJhbm5lcnMoKTtcclxuICAgIGJhbm5lcnMucnVuKCk7XHJcbn0pOyJdfQ==
