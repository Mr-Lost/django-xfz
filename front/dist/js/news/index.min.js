function Banner(){this.index=1,this.bannerWidth=800,this.BannerGroup=$("#banner-group"),this.bannerUl=$("#banner-ul"),this.UlLi=this.bannerUl.children("li"),this.bannerCount=this.UlLi.length,this.leftArrow=$(".left-arrow"),this.rightArrow=$(".right-arrow"),this.pageControl=$(".page-control")}function NewsList(){this.page=2,this.loadMoreBtn=$("#load-more-btn"),this.category_id=0,this.ul=$(".list-inner-group")}Banner.prototype.animated=function(){var n=this;n.bannerUl.stop().animate({left:-n.bannerWidth*n.index},500);var e=n.index;e=0===e?n.bannerCount-1:e===n.bannerCount+1?0:n.index-1,n.pageControl.children("li").eq(e).addClass("active").siblings().removeClass("active")},Banner.prototype.loop=function(){var n=this;n.timer=setInterval(function(){n.index>=n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animated()},2e3)},Banner.prototype.listenHover=function(){var n=this;n.BannerGroup.hover(function(){clearInterval(n.timer),n.index>=n.bannerCount+1&&(n.bannerUl.css({left:-n.bannerWidth}),n.index=2),n.toggleArrow(!0)},function(){n.loop(),n.toggleArrow(!1)})},Banner.prototype.toggleArrow=function(n){var e=this;n?(e.leftArrow.show(),e.rightArrow.show()):(e.leftArrow.hide(),e.rightArrow.hide())},Banner.prototype.listenArrowClick=function(){var n=this;n.leftArrow.click(function(){0===n.index?(n.bannerUl.css({left:-n.bannerWidth*n.bannerCount}),n.index=n.bannerCount-1):n.index--,n.animated()}),n.rightArrow.click(function(){n.index===n.bannerCount+1?(n.bannerUl.css({left:-n.bannerWidth}),n.index=2):n.index++,n.animated()})},Banner.prototype.bannerSpotInit=function(){for(var n=this,e=0;e<n.bannerCount;e++){var t=$("<li></li>");n.pageControl.append(t),0===e&&t.addClass("active")}n.pageControl.css({width:26*n.bannerCount})},Banner.prototype.listenSpotClick=function(){var t=this;t.pageControl.children("li").each(function(n,e){$(e).click(function(){t.index=n+1,t.animated()})})},Banner.prototype.bannerInit=function(){var n=this,e=n.UlLi.eq(0).clone(),t=n.UlLi.eq(n.bannerCount-1).clone();n.bannerUl.append(e),n.bannerUl.prepend(t),n.bannerUl.css({width:(n.bannerCount+2)*n.bannerWidth,left:-n.bannerWidth})},Banner.prototype.run=function(){var n=this;n.listenHover(),n.listenArrowClick(),n.bannerSpotInit(),n.listenSpotClick(),n.bannerInit(),n.loop()},NewsList.prototype.listenLoadMoreEvent=function(){var r=this;r.loadMoreBtn.click(function(){xfzajax.get({url:"/news/news_page/",data:{p:r.page,category_id:r.category_id},success:function(n){if(200===n.code){var e=n.data;if(0<e.length){var t=template("news_item",{newses:e});r.ul.append(t),r.page+=1}else r.loadMoreBtn.hide()}}})})},NewsList.prototype.listenCategoryChangeEvent=function(){var a=this;$(".list-tab").children().click(function(){var r=$(this),i=r.attr("data-category");xfzajax.get({url:"/news/news_page/",data:{p:1,category_id:i},success:function(n){if(200===n.code){var e=n.data,t=template("news_item",{newses:e});a.ul.empty(),a.ul.append(t),a.page=2,a.category_id=i,r.addClass("active").siblings().removeClass("active"),a.loadMoreBtn.show()}}})})},NewsList.prototype.run=function(){this.listenLoadMoreEvent(),this.listenCategoryChangeEvent()},$(function(){(new Banner).run(),(new NewsList).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3MvaW5kZXguanMiXSwibmFtZXMiOlsiQmFubmVyIiwidGhpcyIsImluZGV4IiwiYmFubmVyV2lkdGgiLCJCYW5uZXJHcm91cCIsIiQiLCJiYW5uZXJVbCIsIlVsTGkiLCJjaGlsZHJlbiIsImJhbm5lckNvdW50IiwibGVuZ3RoIiwibGVmdEFycm93IiwicmlnaHRBcnJvdyIsInBhZ2VDb250cm9sIiwiTmV3c0xpc3QiLCJwYWdlIiwibG9hZE1vcmVCdG4iLCJjYXRlZ29yeV9pZCIsInVsIiwicHJvdG90eXBlIiwiYW5pbWF0ZWQiLCJzZWxmIiwic3RvcCIsImFuaW1hdGUiLCJsZWZ0IiwiZXEiLCJhZGRDbGFzcyIsInNpYmxpbmdzIiwicmVtb3ZlQ2xhc3MiLCJsb29wIiwidGltZXIiLCJzZXRJbnRlcnZhbCIsImNzcyIsImxpc3RlbkhvdmVyIiwiaG92ZXIiLCJjbGVhckludGVydmFsIiwidG9nZ2xlQXJyb3ciLCJpc3Nob3ciLCJzaG93IiwiaGlkZSIsImxpc3RlbkFycm93Q2xpY2siLCJjbGljayIsImJhbm5lclNwb3RJbml0IiwiaSIsImNpcmNsZSIsImFwcGVuZCIsIndpZHRoIiwibGlzdGVuU3BvdENsaWNrIiwiZWFjaCIsIm9iaiIsImJhbm5lckluaXQiLCJmaXNydEJhbm5lciIsImNsb25lIiwibGFzdEJhbm5lciIsInByZXBlbmQiLCJydW4iLCJsaXN0ZW5Mb2FkTW9yZUV2ZW50IiwieGZ6YWpheCIsImdldCIsInVybCIsImRhdGEiLCJwIiwic3VjY2VzcyIsInJlc3VsdCIsIm5ld3NlcyIsInRwbCIsInRlbXBsYXRlIiwibGlzdGVuQ2F0ZWdvcnlDaGFuZ2VFdmVudCIsInRhZyIsImF0dHIiLCJlbXB0eSJdLCJtYXBwaW5ncyI6IkFBQUEsU0FBU0EsU0FDTEMsS0FBS0MsTUFBUSxFQUNiRCxLQUFLRSxZQUFjLElBQ25CRixLQUFLRyxZQUFjQyxFQUFFLGlCQUNyQkosS0FBS0ssU0FBV0QsRUFBRSxjQUNsQkosS0FBS00sS0FBT04sS0FB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Q1JnQixFQUFjbUQsRUFBSUMsS0FBSyxpQkFFM0JaLFFBQVFDLElBQUksQ0FDUkMsSUFBTSxtQkFDTkMsS0FBUSxDQUNKQyxFQUpHLEVBS0g1QyxZQUFlQSxHQUVuQjZDLFFBQVcsU0FBVUMsR0FDakIsR0FBc0IsTUFBbkJBLEVBQWEsS0FBVSxDQUN0QixJQUFJQyxFQUFTRCxFQUFhLEtBQ3RCRSxFQUFNQyxTQUFTLFlBQWEsQ0FBQ0YsT0FBVUEsSUFDM0MzQyxFQUFLSCxHQUFHb0QsUUFDUmpELEVBQUtILEdBQUcyQixPQUFPb0IsR0FDZjVDLEVBQUtOLEtBQU8sRUFDWk0sRUFBS0osWUFBY0EsRUFDbkJtRCxFQUFJMUMsU0FBUyxVQUFVQyxXQUFXQyxZQUFZLFVBQzlDUCxFQUFLTCxZQUFZc0IsY0FPckN4QixTQUFTSyxVQUFVb0MsSUFBTSxXQUNWdEQsS0FDTnVELHNCQURNdkQsS0FFTmtFLDZCQUlUOUQsRUFBRSxZQUNjLElBQUlMLFFBQ1Z1RCxPQUNRLElBQUl6QyxVQUNWeUMiLCJmaWxlIjoibmV3cy9pbmRleC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBCYW5uZXIoKSB7XHJcbiAgICB0aGlzLmluZGV4ID0gMTtcclxuICAgIHRoaXMuYmFubmVyV2lkdGggPSA4MDA7XHJcbiAgICB0aGlzLkJhbm5lckdyb3VwID0gJChcIiNiYW5uZXItZ3JvdXBcIik7XHJcbiAgICB0aGlzLmJhbm5lclVsID0gJChcIiNiYW5uZXItdWxcIik7XHJcbiAgICB0aGlzLlVsTGkgPSB0aGlzLmJhbm5lclVsLmNoaWxkcmVuKCdsaScpO1xyXG4gICAgdGhpcy5iYW5uZXJDb3VudCA9IHRoaXMuVWxMaS5sZW5ndGg7XHJcbiAgICB0aGlzLmxlZnRBcnJvdyA9ICQoXCIubGVmdC1hcnJvd1wiKTtcclxuICAgIHRoaXMucmlnaHRBcnJvdyA9ICQoXCIucmlnaHQtYXJyb3dcIik7XHJcbiAgICB0aGlzLnBhZ2VDb250cm9sID0gJChcIi5wYWdlLWNvbnRyb2xcIik7XHJcbn1cclxuXHJcbi8v5Zu+54mH6L2u5pKt6YCf5bqm5Y2V54us5Ye65p2l5a6a5LmJ5Li65LiA5Liq5pa55rOV77yM5L6/5LqO57uf5LiA5L+u5pS56L2u5pKt6YCf5bqmXHJcbkJhbm5lci5wcm90b3R5cGUuYW5pbWF0ZWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmJhbm5lclVsLnN0b3AoKS5hbmltYXRlKHtcImxlZnRcIjotc2VsZi5iYW5uZXJXaWR0aCpzZWxmLmluZGV4fSwgNTAwKTtcclxuICAgIC8v6Ieq5Yqo6L2u5pKt5ZKM54K55Ye7566t5aS05pe25qC55o2uaW5kZXjpgInkuK3lvZPliY3lsI/lnIbngrlcclxuICAgIHZhciBpbmRleCA9IHNlbGYuaW5kZXg7XHJcbiAgICBpZihpbmRleCA9PT0gMCl7XHJcbiAgICAgICAgaW5kZXggPSBzZWxmLmJhbm5lckNvdW50IC0gMTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYoaW5kZXggPT09IHNlbGYuYmFubmVyQ291bnQgKyAxKXtcclxuICAgICAgICBpbmRleCA9IDA7XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIGluZGV4ID0gc2VsZi5pbmRleCAtIDE7XHJcbiAgICB9XHJcbiAgICBzZWxmLnBhZ2VDb250cm9sLmNoaWxkcmVuKCdsaScpLmVxKGluZGV4KS5hZGRDbGFzcyhcImFjdGl2ZVwiKS5zaWJsaW5ncygpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xyXG59O1xyXG5cclxuQmFubmVyLnByb3RvdHlwZS5sb29wID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgLy8gc2VsZi5iYW5uZXJVbC5jc3Moe1wibGVmdFwiOi04MDB9KTsvL+W3puenu++8jOaYvuekuuesrOS6jOW8oOWbvueJh1xyXG4gICAgLy/orr7nva7lrprml7bova7mkq1cclxuICAgIHNlbGYudGltZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYoc2VsZi5pbmRleCA+PSBzZWxmLmJhbm5lckNvdW50ICsgMSl7XHJcbiAgICAgICAgICAgIHNlbGYuYmFubmVyVWwuY3NzKHsnbGVmdCc6IC1zZWxmLmJhbm5lcldpZHRofSk7XHJcbiAgICAgICAgICAgIHNlbGYuaW5kZXggPSAyO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICBzZWxmLmluZGV4Kys7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHNlbGYuYW5pbWF0ZWQoKTtcclxuICAgIH0sIDIwMDApO1xyXG59O1xyXG5cclxuLy/pvKDmoIfmgqzlgZzlnKjova7mkq3lm77kuIrliJnpnZnmraLova7mkq1cclxuQmFubmVyLnByb3RvdHlwZS5saXN0ZW5Ib3ZlciA9IGZ1bmN0aW9uICgpIHtcclxuICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgc2VsZi5CYW5uZXJHcm91cC5ob3ZlcihmdW5jdGlvbiAoKSB7XHJcbiAgICBjbGVhckludGVydmFsKHNlbGYudGltZXIpO1xyXG4gICAgLy8g6Kej5Yaz6L2u5pKt5Zu+6L2u5pKt5Yiw56ys5LiA5byg5pe277yM6YCa6L+H54K55Ye75bCP5ZyG54K56Lez6L2s6L2u5pKt5Zu+5pe25rua5Yqo5pa55ZCR5LiN5q2j56Gu55qE6Zeu6aKYXHJcbiAgICBpZihzZWxmLmluZGV4ID49IHNlbGYuYmFubmVyQ291bnQgKyAxKXtcclxuICAgICAgICBzZWxmLmJhbm5lclVsLmNzcyh7J2xlZnQnOiAtc2VsZi5iYW5uZXJXaWR0aH0pO1xyXG4gICAgICAgIHNlbGYuaW5kZXggPSAyO1xyXG4gICAgfVxyXG4gICAgc2VsZi50b2dnbGVBcnJvdyh0cnVlKTtcclxuICB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgIHNlbGYubG9vcCgpO1xyXG4gICAgICBzZWxmLnRvZ2dsZUFycm93KGZhbHNlKTtcclxuICB9KVxyXG59O1xyXG5cclxuLy/ova7mkq3lm77lt6blj7Pnrq3lpLTnmoTmmL7npLrlkozpmpDol49cclxuQmFubmVyLnByb3RvdHlwZS50b2dnbGVBcnJvdyA9IGZ1bmN0aW9uIChpc3Nob3cpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIGlmKGlzc2hvdyl7XHJcbiAgICAgICAgc2VsZi5sZWZ0QXJyb3cuc2hvdygpO1xyXG4gICAgICAgIHNlbGYucmlnaHRBcnJvdy5zaG93KCk7XHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIHNlbGYubGVmdEFycm93LmhpZGUoKTtcclxuICAgICAgICBzZWxmLnJpZ2h0QXJyb3cuaGlkZSgpO1xyXG4gICAgfVxyXG59O1xyXG5cclxuLy/nm5HlkKzlt6blj7Pnrq3lpLTooqvngrnlh7tcclxuQmFubmVyLnByb3RvdHlwZS5saXN0ZW5BcnJvd0NsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gIHZhciBzZWxmID0gdGhpcztcclxuICBzZWxmLmxlZnRBcnJvdy5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgIC8vIDEgPT0gJzEnIC0+IHRydWUgICAgICAgMSA9PT0gJzEnIC0+IGZhbHNlXHJcbiAgICAgIGlmKHNlbGYuaW5kZXggPT09IDApe1xyXG4gICAgICAgICAgc2VsZi5iYW5uZXJVbC5jc3MoeydsZWZ0JzogLXNlbGYuYmFubmVyV2lkdGgqc2VsZi5iYW5uZXJDb3VudH0pO1xyXG4gICAgICAgICAgc2VsZi5pbmRleCA9IHNlbGYuYmFubmVyQ291bnQgLSAxO1xyXG4gICAgICB9XHJcbiAgICAgIGVsc2V7XHJcbiAgICAgICAgICBzZWxmLmluZGV4LS07XHJcbiAgICAgIH1cclxuICAgICAgc2VsZi5hbmltYXRlZCgpO1xyXG4gIH0pO1xyXG4gIHNlbGYucmlnaHRBcnJvdy5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgIGlmKHNlbGYuaW5kZXggPT09IHNlbGYuYmFubmVyQ291bnQgKyAxKXtcclxuICAgICAgICAgIHNlbGYuYmFubmVyVWwuY3NzKHsnbGVmdCc6IC1zZWxmLmJhbm5lcldpZHRofSk7XHJcbiAgICAgICAgICBzZWxmLmluZGV4ID0gMjtcclxuICAgICAgfVxyXG4gICAgICBlbHNle1xyXG4gICAgICAgICAgc2VsZi5pbmRleCsrO1xyXG4gICAgICB9XHJcbiAgICAgIHNlbGYuYW5pbWF0ZWQoKTtcclxuICB9KVxyXG59O1xyXG5cclxuLy/moLnmja7ova7mkq3lm77mlbDph4/nlJ/miJDlr7nlupTlsI/lnIbngrnvvIzlubborr7nva7lrr3luqZcclxuQmFubmVyLnByb3RvdHlwZS5iYW5uZXJTcG90SW5pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIGZvcih2YXIgaT0wOyBpIDwgc2VsZi5iYW5uZXJDb3VudDsgaSsrKXtcclxuICAgICAgICB2YXIgY2lyY2xlID0gJChcIjxsaT48L2xpPlwiKTtcclxuICAgICAgICBzZWxmLnBhZ2VDb250cm9sLmFwcGVuZChjaXJjbGUpO1xyXG4gICAgICAgIGlmKGkgPT09IDApe1xyXG4gICAgICAgICAgICBjaXJjbGUuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgc2VsZi5wYWdlQ29udHJvbC5jc3Moeyd3aWR0aCc6IHNlbGYuYmFubmVyQ291bnQqMjZ9KTsvL+WFg+e0oOacrOi6qzEwcHjliqDkuIrlt6blj7PlkIQ4cHhcclxufTtcclxuXHJcbi8v54K55Ye75bCP5ZyG54K55YiH5o2i5Zu+54mHXHJcbkJhbm5lci5wcm90b3R5cGUubGlzdGVuU3BvdENsaWNrID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5wYWdlQ29udHJvbC5jaGlsZHJlbignbGknKS5lYWNoKGZ1bmN0aW9uIChpbmRleCwgb2JqKSB7XHJcbiAgICAgICAgJChvYmopLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2VsZi5pbmRleCA9IGluZGV4ICsgMTtcclxuICAgICAgICAgICAgc2VsZi5hbmltYXRlZCgpO1xyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59O1xyXG5cclxuLy/lrozlloTova7mkq3mgKfog73vvIznrKzkuIDlvKDlkozmnIDlkI7kuIDlvKDog73ooZTmjqXmu5rliqhcclxuQmFubmVyLnByb3RvdHlwZS5iYW5uZXJJbml0ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzZWxmID0gdGhpcztcclxuICAgIHZhciBmaXNydEJhbm5lciA9IHNlbGYuVWxMaS5lcSgwKS5jbG9uZSgpO1xyXG4gICAgdmFyIGxhc3RCYW5uZXIgPSBzZWxmLlVsTGkuZXEoc2VsZi5iYW5uZXJDb3VudC0xKS5jbG9uZSgpO1xyXG4gICAgc2VsZi5iYW5uZXJVbC5hcHBlbmQoZmlzcnRCYW5uZXIpO1xyXG4gICAgc2VsZi5iYW5uZXJVbC5wcmVwZW5kKGxhc3RCYW5uZXIpO1xyXG4gICAgc2VsZi5iYW5uZXJVbC5jc3Moeyd3aWR0aCc6IChzZWxmLmJhbm5lckNvdW50KzIpKnNlbGYuYmFubmVyV2lkdGgsICdsZWZ0JzogLXNlbGYuYmFubmVyV2lkdGh9KTtcclxufTtcclxuXHJcbkJhbm5lci5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5saXN0ZW5Ib3ZlcigpO1xyXG4gICAgc2VsZi5saXN0ZW5BcnJvd0NsaWNrKCk7XHJcbiAgICBzZWxmLmJhbm5lclNwb3RJbml0KCk7XHJcbiAgICBzZWxmLmxpc3RlblNwb3RDbGljaygpO1xyXG4gICAgc2VsZi5iYW5uZXJJbml0KCk7XHJcbiAgICBzZWxmLmxvb3AoKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIE5ld3NMaXN0KCl7XHJcbiAgICB0aGlzLnBhZ2UgPSAyO1xyXG4gICAgdGhpcy5sb2FkTW9yZUJ0biA9ICQoJyNsb2FkLW1vcmUtYnRuJyk7XHJcbiAgICB0aGlzLmNhdGVnb3J5X2lkID0gMDtcclxuICAgIHRoaXMudWwgPSAkKCcubGlzdC1pbm5lci1ncm91cCcpO1xyXG59XHJcblxyXG5OZXdzTGlzdC5wcm90b3R5cGUubGlzdGVuTG9hZE1vcmVFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxvYWRNb3JlQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB4ZnphamF4LmdldCh7XHJcbiAgICAgICAgICAgICd1cmwnOiAnL25ld3MvbmV3c19wYWdlLycsXHJcbiAgICAgICAgICAgICdkYXRhJzoge1xyXG4gICAgICAgICAgICAgICAgJ3AnOiBzZWxmLnBhZ2UsXHJcbiAgICAgICAgICAgICAgICAnY2F0ZWdvcnlfaWQnOiBzZWxmLmNhdGVnb3J5X2lkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5ld3NlcyA9IHJlc3VsdFsnZGF0YSddO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKG5ld3Nlcy5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRwbCA9IHRlbXBsYXRlKFwibmV3c19pdGVtXCIsIHtcIm5ld3Nlc1wiOiBuZXdzZXN9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi51bC5hcHBlbmQodHBsKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5wYWdlICs9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZE1vcmVCdG4uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KVxyXG59O1xyXG5cclxuTmV3c0xpc3QucHJvdG90eXBlLmxpc3RlbkNhdGVnb3J5Q2hhbmdlRXZlbnQgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHRhZ0dyb3VwID0gJCgnLmxpc3QtdGFiJyk7XHJcbiAgICB0YWdHcm91cC5jaGlsZHJlbigpLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgdGFnID0gJCh0aGlzKTtcclxuICAgICAgICB2YXIgY2F0ZWdvcnlfaWQgPSB0YWcuYXR0cignZGF0YS1jYXRlZ29yeScpO1xyXG4gICAgICAgIHZhciBwYWdlID0gMTtcclxuICAgICAgICB4ZnphamF4LmdldCh7XHJcbiAgICAgICAgICAgICd1cmwnOicvbmV3cy9uZXdzX3BhZ2UvJyxcclxuICAgICAgICAgICAgJ2RhdGEnOiB7XHJcbiAgICAgICAgICAgICAgICAncCc6IHBhZ2UsXHJcbiAgICAgICAgICAgICAgICAnY2F0ZWdvcnlfaWQnOiBjYXRlZ29yeV9pZFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXdzZXMgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHBsID0gdGVtcGxhdGUoXCJuZXdzX2l0ZW1cIiwgeyduZXdzZXMnOiBuZXdzZXN9KTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnVsLmVtcHR5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgc2VsZi51bC5hcHBlbmQodHBsKTtcclxuICAgICAgICAgICAgICAgICAgICBzZWxmLnBhZ2UgPSAyO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuY2F0ZWdvcnlfaWQgPSBjYXRlZ29yeV9pZDtcclxuICAgICAgICAgICAgICAgICAgICB0YWcuYWRkQ2xhc3MoJ2FjdGl2ZScpLnNpYmxpbmdzKCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIHNlbGYubG9hZE1vcmVCdG4uc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KVxyXG59O1xyXG5cclxuTmV3c0xpc3QucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxpc3RlbkxvYWRNb3JlRXZlbnQoKTtcclxuICAgIHNlbGYubGlzdGVuQ2F0ZWdvcnlDaGFuZ2VFdmVudCgpO1xyXG59O1xyXG5cclxuLy/mlbTkuKpodG1s5paH5qGj5Yqg6L295a6M5ZCO5omN5omn6KGMJOS4reeahOWHveaVsFxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgdmFyIGJhbm5lciA9IG5ldyBCYW5uZXIoKTtcclxuICAgYmFubmVyLnJ1bigpO1xyXG4gICB2YXIgbmV3c0xpc3QgPSBuZXcgTmV3c0xpc3QoKTtcclxuICAgbmV3c0xpc3QucnVuKCk7XHJcbn0pOyJdfQ==
